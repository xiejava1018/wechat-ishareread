<view class="container">
    <block wx:if="{{showLoading}}">
        <view class="loading">玩命加载中…</view>
    </block>
    <block wx:elif="{{showContent}}">
    <!-- fd: film detail -->
        <view class="fd-hd">
            <view class="fd-hd-bg" style="background-image: url({{bookDetail.images.large}})"></view>
            <image src="{{bookDetail.images.large}}" class="fd-cover"></image>
            <view class="fd-intro">
                <view class="fd-title">{{filmDetail.title}}</view>
                <view class="fd-intro-txt">作者：{{bookDetail.author[0]}}</view>
                <view class="fd-intro-txt">出版社：{{bookDetail.publisher}}</view>
                <view class="fd-intro-txt">豆瓣评分：
                    <block wx:if="{{bookDetail.rating.average == 0}}">
                        暂无评分
                    </block>
                    <block wx:else>
                        {{bookDetail.rating.average}}分
                    </block>
                </view>
                <view class="fd-intro-txt">出版日期：{{bookDetail.pubdate}}</view>
            </view>
            <view class="fd-favorite {{isFilmFavorite ? 'fd-favorite-active' : ''}}" bindtap="favoriteFilm">收藏</view>
        </view>
        <view class="fd-data">
            <view class="fd-data-item">
                <view class="fd-data-num">{{filmDetail.collect_count}}</view>
                <view class="fd-data-title">看过</view>
            </view>
            <view class="fd-data-item">
                <view class="fd-data-num">{{filmDetail.wish_count}}</view>
                <view class="fd-data-title">想看</view>
            </view>
            <view class="fd-data-item">
                <view class="fd-data-num">{{filmDetail.ratings_count}}</view>
                <view class="fd-data-title">评分人数</view>
            </view>
        </view>
        <view class="fd-bd">
            <view class="fd-bd-title">内容简介</view>
            <view class="fd-bd-intro">{{bookDetail.summary}}</view>
            <view class="fd-bd-title">作者简介</view>
            <view class="fd-bd-intro">{{bookDetail.author_intro}}</view>
            <view class="fd-bd-title">标签</view>
            <view class="fd-bd-tag">
                <block wx:for="{{bookDetail.tags}}" wx:for-item="bookDetailTagItem" wx:key="bookDetailTagItem">
                    <view class="fd-bd-tag-item" data-tag="{{bookDetailTagItem.title}}" catchtap="viewFilmByTag">{{bookDetailTagItem.title}}</view>
                </block>
            </view>
        </view>
    </block> 
</view>
<import src="../../component/message/message.wxml"/>
<template is="message" data="{{message: message}}"/>